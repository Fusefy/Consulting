<section class="ai-adoption-slide" data-transition="zoom">
  <style>
    /* --- General & Shared Styles --- */
    .content-set {
      flex-grow: 1;
      display: flex;
      flex-direction: column;
    }
    .clickable-image {
      transition: transform 0.2s ease-out, box-shadow 0.2s ease-out;
      position: relative; z-index: 10; cursor: pointer;
    }
    .clickable-image:hover {
      transform: scale(1.02);
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
    }
    .navigation-button {
      position: relative; z-index: 20;
      transition: transform 0.2s ease;
      background-color: white; color: blue; border: none;
      border-radius: 4px; font-size: 14px; cursor: pointer;
      display: inline-flex; align-items: center;
    }
    .navigation-button:hover { transform: scale(1.05); }

    /* --- Zoom Overlay Styles --- */
    .zoom-overlay {
      position: fixed; top: 0; left: 0; width: 100vw; height: 100vh;
      background-color: rgba(255, 255, 255, 0.8);
      backdrop-filter: blur(5px); -webkit-backdrop-filter: blur(5px);
      display: flex; justify-content: center; align-items: center;
      z-index: 2000; opacity: 0; visibility: hidden;
      transition: opacity 0.3s ease, visibility 0s linear 0.3s;
    }
    .zoom-overlay.active { opacity: 1; visibility: visible; transition: opacity 0.3s ease; }
    .zoom-image {
      max-width: 80%; max-height: 80%; box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
      border-radius: 8px; transform: scale(0.8);
      transition: transform 0.3s cubic-bezier(0.26, 0.86, 0.44, 0.985);
    }
    .zoom-overlay.active .zoom-image { transform: scale(1); }
    .close-zoom {
      position: absolute; top: 20px; right: 30px; font-size: 30px; color: #002060;
      cursor: pointer; background: white; width: 40px; height: 40px; border-radius: 50%;
      display: flex; justify-content: center; align-items: center; box-shadow: 0 2px 10px rgba(0, 0, 0, 0.2);
    }

    /* --- PAGE 1: Reveal.js Fragment Animation Styles --- */
    .reveal .slides section .fragment.fade-in-up {
      opacity: 0;
      visibility: hidden;
      transform: translateY(20px);
      transition: opacity 0.6s ease, transform 0.6s ease, visibility 0s linear 0.6s;
    }
    .reveal .slides section .fragment.fade-in-up.visible {
      opacity: 1;
      visibility: visible;
      transform: translateY(0);
      transition-delay: 0s;
    }

    /* --- PAGE 2: Custom JS-triggered Animation Styles --- */
    @keyframes fadeInUp { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
    
    .animate-on-show {
      opacity: 1; /* Changed to make buttons clickable */
      transform: translateY(20px); /* Start with offset for animation */
    }
    
    .animate-on-show.start-animation {
      animation: fadeInUp 0.6s ease-out forwards;
    }
    
    .services-container {
      display: flex; align-items: center; justify-content: center;
      width: 100%; height: 100%;
    }
    .services-title { font-size: medium; font-weight: 900; color: #0021F3; }
    .service-box {
      flex: 1; border: 1px solid #002060; border-radius: 8px;
      padding: 20px; text-align: left; background-color: #f8faff;
      min-height: 180px; display: flex; flex-direction: column;
    }
    .service-box p {
      font-weight: bold; color: #002060; margin-top: 0;
      margin-bottom: 10px; font-size: medium;
    }
    .service-box ul {
      font-size: small; line-height: 1.5; margin: 0;
      padding-left: 20px; color: #333;
    }

    @media screen and (max-width: 1024px) {
      .service-box { padding: 15px; min-height: 150px; }
      .service-box ul { font-size: smaller; }
    }
  </style>

  <!-- Zoom Overlay -->
  <div class="zoom-overlay" id="zoomOverlay">
    <div class="close-zoom">Ã—</div>
    <img class="zoom-image" id="zoomedImage" src="" alt="Zoomed Image" />
  </div>

  <div class="slide-padding">
    <header class="slide-header">
      <h1>What is AI Adoption as a Service?</h1>
      <img src="./images/Logo.png" alt="Company Logo" class="company-logo">
    </header>

    <!-- Page 1 (Visible by default, uses Reveal.js fragments) -->
    <div id="content-set-1" class="content-set">
      <div style="display: flex; flex-direction: column; align-items: center; gap: 0%; text-align: center;">
        <div style="display: flex; justify-content: center; align-items: flex-end; gap: -2%; width: 100%;">
          <div style="width: 30%;">
            <!-- UPDATED: Added fragment class and index to the label -->
            <div class="fragment fade-in-up" data-fragment-index="1" style="color: #002060; font-size: small; font-weight: bold; margin-bottom: 5px;">
              <strong style="color :#0021f3;">FUSE Framework</strong>
            </div>
            <img src="./images/Flow.jpg" alt="FLOW: FUSE Framework" class="fragment fade-in-up clickable-image" data-fragment-index="1" style="width: 60%; height: auto; border: 1px solid black; border-radius: 8px;" data-src="./images/Flow.jpg" />
          </div>
          <div style="width: 50%;">
            <!-- UPDATED: Added fragment class and index to the label -->
            <p class="fragment fade-in-up" data-fragment-index="2" style="font-size: medium; color: blue; font-weight: 900; margin-bottom: 10px;">Strategy:</p>
            <div style="display: flex; gap: 4%; justify-content: center; align-items: flex-end;">
              <div style="width: 45%; text-align: center;">
                <!-- UPDATED: Added fragment class and index to the label -->
                <div class="fragment fade-in-up" data-fragment-index="2" style="color: #002060; font-size: x-small; font-weight: bold; margin-bottom: 2px;"><strong style="font-weight: 900; font-size: medium;">Heatmap</strong></div>
                <img src="./images/Heatmap.png" alt="ROI by Workflow" class="fragment fade-in-up clickable-image" data-fragment-index="2" style="width: 100%; height: auto; border: 1px solid black; border-radius: 8px;" data-src="./images/Heatmap.png" />
              </div>
              <div style="width: 45%; text-align: center;">
                <!-- UPDATED: Added fragment class and index to the label -->
                <div class="fragment fade-in-up" data-fragment-index="3" style="color: #002060; font-size: x-small; font-weight: bold; margin-bottom: 3px;"><strong style="font-weight: 900; font-size: medium;">TCO Calculation</strong></div>
                <img src="./images/TCO-2.png" alt="ROI Trend Graph" class="fragment fade-in-up clickable-image" data-fragment-index="3" style="width: 100%; height: auto; border: 1px solid black; border-radius: 8px;" data-src="./images/TCO-2.png" />
              </div>
            </div>
          </div>
        </div>

        <div>
          <!-- UPDATED: Added fragment class and index to the label -->
          <p class="fragment fade-in-up" data-fragment-index="4" style="font-size: medium; color: blue; font-weight: 900; margin-bottom: 0%; margin-right: 10%;">Success Metrics:</p>
          <div style="display: flex; justify-content: center; align-items: center; gap: 0%;">
            <div style="width: 25%; text-align: center;">
              <!-- UPDATED: Added fragment class and index to the label -->
              <div class="fragment fade-in-up" data-fragment-index="4" style="color: #002060; font-size: x-small; font-weight: bold; margin-bottom: 3px;"><strong style="font-weight: 900; font-size: medium;">ROI</strong></div>
              <img src="./images/ROI-1.png" alt="Implementation Requirements Heatmap" class="fragment fade-in-up clickable-image" data-fragment-index="4" style="width: 100%; height: auto; border: 1px solid black; border-radius: 8px;" data-src="./images/ROI-1.png" />
            </div>
            <div style="width: 25%; text-align: center;">
              <!-- UPDATED: Added fragment class and index to the label -->
              <div class="fragment fade-in-up" data-fragment-index="5" style="color: #002060; font-size: x-small; font-weight: bold; margin-bottom: 3px;"><strong style="font-weight: 900; font-size: medium;">ROI Calculation</strong></div>
              <img src="./images/ROI-G.png" alt="Total Cost of Ownership Calculation" class="fragment fade-in-up clickable-image" data-fragment-index="5" style="width: 80%; height: 5%; border: 1px solid black; border-radius: 8px;" data-src="./images/ROI-G.png" />
            </div>

            <div class="fragment" data-fragment-index="6" style="margin-left: 20px; padding-bottom: 10px;">
              <button id="next-button" class="navigation-button">
                <span>Next</span>
                <img src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSJub25lIiBzdHJva2U9ImJsdWUiIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIj48cGF0aCBkPSJNNiA5bDYgNiA2LTYiLz48L3N2Zz4=" alt="Down Arrow" style="width: 24px; height: 24px; margin-left: 8px;">
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Page 2 (Hidden by default, uses custom JS animations) - NO CHANGES HERE -->
    <div id="content-set-2" class="content-set" style="display: none;">
      <p class="services-title animate-on-show">Services</p>
      <div class="services-container">
        <div style="display: flex; flex-direction: column; align-items: center; gap: 35px;">
          <div style="display: flex; justify-content: space-around; align-items: stretch; gap: 20px; width: 85%;">
            <div class="service-box animate-on-show">
              <p>GenAI + Agent Integration</p>
              <ul>
                <li>Seamlessly combine Generative AI models with intelligent agents.</li>
                <li>Automate complex workflows and critical decision-making processes.</li>
                <li>Personalize user experiences in real-time through adaptive, goal-driven interactions.</li>
              </ul>
            </div>
            <div class="service-box animate-on-show">
              <p>Cloud Enablement</p>
              <ul>
                <li>Leverage leading cloud platforms like Vertex AI, Azure, and Gemini.</li>
                <li>Deploy scalable, secure, and high-performance AI solutions.</li>
                <li>Accelerate innovation with managed services and streamlined experimentation.</li>
              </ul>
            </div>
            <div class="service-box animate-on-show">
              <p>Enterprise-Grade Deployment</p>
              <ul>
                <li>Ensure robust security and full regulatory compliance.</li>
                <li>Streamline deployment and management across all environments.</li>
                <li>Embed governance and trust throughout the entire AI lifecycle.</li>
              </ul>
            </div>
          </div>
          <div class="back-button-container animate-on-show">
            <button id="back-button" class="navigation-button" style="padding: 10px 20px;">
              <img src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSJub25lIiBzdHJva2U9ImJsdWUiIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIj48cGF0aCBkPSJNMTggMTVsLTYtNi02IDYiLz48L3N2Zz4=" alt="Up Arrow" style="width: 24px; height: 24px; margin-right: 8px;">
              <span>Back</span>
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>

  <script>
    // NO CHANGES HERE
    (function() {
      const slide = document.querySelector('.ai-adoption-slide');
      if (!slide) return;

      const page1 = slide.querySelector('#content-set-1');
      const page2 = slide.querySelector('#content-set-2');
      const nextButton = slide.querySelector('#next-button');
      const backButton = slide.querySelector('#back-button');
      const zoomOverlay = slide.querySelector('#zoomOverlay');
      const zoomedImage = slide.querySelector('#zoomedImage');
      const closeZoomButton = slide.querySelector('.close-zoom');

      // --- Content Switching Logic ---
      if (nextButton) {
        nextButton.addEventListener('click', function(e) {
          e.preventDefault();
          page1.style.display = 'none';
          page2.style.display = 'flex';

          // Trigger custom animations for Page 2 with a stagger effect
          const elementsToAnimate = page2.querySelectorAll('.animate-on-show');
          elementsToAnimate.forEach((el, index) => {
            el.classList.remove('start-animation'); // Reset first
            setTimeout(() => {
                el.style.animationDelay = `${index * 150}ms`; // Stagger animation
                el.classList.add('start-animation');
            }, 10);
          });
        });
      }

      if (backButton) {
        backButton.addEventListener('click', function(e) {
          e.preventDefault();
          page2.style.display = 'none';
          page1.style.display = 'flex';

          // Reset animations on Page 2 elements so they can fire again later
          page2.querySelectorAll('.animate-on-show').forEach(el => {
            el.classList.remove('start-animation');
            el.style.animationDelay = '';
          });
        });
      }

      // --- Image Zoom Logic ---
      slide.querySelectorAll('.clickable-image').forEach(img => {
        img.addEventListener('click', function(e) {
          if (e.target.tagName === 'A' || e.target.tagName === 'BUTTON') return;
          
          zoomedImage.src = this.dataset.src || this.src;
          zoomOverlay.classList.add('active');
        });
      });

      if (closeZoomButton) {
        closeZoomButton.addEventListener('click', function() {
          zoomOverlay.classList.remove('active');
        });
      }
      
      if (zoomOverlay) {
        zoomOverlay.addEventListener('click', function(e) {
            if (e.target === zoomOverlay) {
                zoomOverlay.classList.remove('active');
            }
        });
      }
    })();
  </script>
</section>