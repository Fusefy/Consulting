<section class="ai-stack-slide" data-auto-animate data-transition="zoom">
  <style>
    @import url("https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap");

    .ai-stack-slide {
      font-family: "Inter", sans-serif;
      background: #ffffff;
      color: var(--text-primary);
      width: 100vw;
      height: 100vh;
      padding: 4vh 6vw;
      box-sizing: border-box;
      overflow: hidden;
      position: relative;
    }

    .ai-stack-slide * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    .ai-stack-slide :root {
      --primary-blue: #2563eb;
      --primary-blue-light: #3b82f6;
      --primary-orange: #f97316;
      --primary-orange-light: #fb923c;
      --primary-gradient: linear-gradient(135deg, #3b82f6, #2563eb);
      --orange-gradient: linear-gradient(135deg, #f97316, #ea580c);
      --light-bg: #ffffff;
      --card-bg: #ffffff;
      --card-border: rgba(37, 99, 235, 0.15);
      --text-primary: #1e293b;
      --text-secondary: #475569;
      --shadow-glow-blue: 0 0 30px rgba(37, 99, 235, 0.15);
      --shadow-glow-orange: 0 0 30px rgba(249, 115, 22, 0.15);
      --shadow-soft: 0 8px 30px rgba(0, 0, 0, 0.08);
    }

    .ai-stack-container {
      width: 100%;
      max-width: 800px;
      padding: 10px;
      position: relative;
      height: 100%;
      display: flex;
      flex-direction: column;
      margin: 0 auto;
    }

    /* Enhanced h2 styling for better visibility */
    .ai-stack-slide h2 {
      text-align: center;
      color: #2563eb; /* Solid color instead of transparent */
      font-weight: 700;
      margin-bottom: 25px; /* Increased to accommodate the underline */
      font-size: 28px; /* Increased font size */
      letter-spacing: -0.5px;
      position: relative;
      display: block;
      visibility: visible !important;
      opacity: 1 !important;
      z-index: 100; /* Ensure it's above other elements */
    }

    .ai-stack-slide h2::after {
      content: "";
      position: absolute;
      bottom: -8px;
      left: 50%;
      transform: translateX(-50%);
      width: 80px;
      height: 3px;
      background: linear-gradient(to right, #3b82f6, #f97316);
      border-radius: 3px;
    }

    .ai-stack {
      flex-direction: column;
      position: relative;
      justify-content: space-between;
      display: flex; /* Added to ensure flex layout */
    }

    .ai-stack::before {
      content: "";
      position: absolute;
      top: 0;
      bottom: 0;
      left: 30px;
      width: 2px;
      background: linear-gradient(
        to bottom,
        rgba(59, 130, 246, 0.8),
        rgba(249, 115, 22, 0.8),
        rgba(59, 130, 246, 0.8),
        rgba(249, 115, 22, 0.8)
      );
      z-index: 0;
      opacity: 0.2;
    }

    .stack-layer {
      display: flex;
      position: relative;
      padding: 4px 10px;
      border-radius: 16px;
      background: #ffffff;
      border: 1px solid rgba(37, 99, 235, 0.15);
      box-shadow: 0 8px 30px rgba(0, 0, 0, 0.08);
      transition: all 0.5s cubic-bezier(0.25, 1, 0.5, 1);
      opacity: 0;
      transform: translateY(40px);
      pointer-events: none;
      z-index: 1;
    }

    .stack-layer.active {
      opacity: 1;
      transform: translateY(0);
      pointer-events: all;
      box-shadow: 0 0 30px rgba(37, 99, 235, 0.15),
        0 8px 30px rgba(0, 0, 0, 0.08);
    }

    .stack-layer:hover {
      transform: translateY(-5px) scale(1.02);
      box-shadow: 0 15px 30px rgba(0, 0, 0, 0.1),
        0 0 30px rgba(37, 99, 235, 0.15);
      border-color: rgba(59, 130, 246, 0.4);
    }

    .layer-icon-wrapper {
      flex: 0 0 40px;
      height: 40px;
      margin-right: 15px;
      position: relative;
    }

    .layer-icon {
      width: 40px;
      height: 40px;
      display: flex;
      justify-content: center;
      align-items: center;
      font-size: 20px;
      color: #fff;
      border-radius: 10px;
      position: relative;
      overflow: hidden;
      box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
    }

    .layer-icon svg {
      width: 24px;
      height: 24px;
      fill: #fff;
      stroke: #fff;
      stroke-width: 0.5;
      transition: transform 0.3s ease;
    }

    .stack-layer:hover .layer-icon svg {
      transform: scale(1.1);
    }

    .layer-icon::before {
      content: "";
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: inherit;
      filter: brightness(1.3);
      opacity: 0;
      transition: opacity 0.3s ease;
    }

    .stack-layer:hover .layer-icon::before {
      opacity: 1;
    }

    .layer-content {
      flex-grow: 1;
    }

    .layer-title {
      font-size: 18px;
      font-weight: 600;
      margin-bottom: 4px;
      color: #1e293b;
      display: flex;
      align-items: center;
    }

    .layer-details {
      color: #475569;
      font-size: 14px;
      line-height: 1.3;
      margin-bottom: 3px;
    }

    .tech-tags {
      display: flex;
      flex-wrap: wrap;
      gap: 2px;
    }

    .tech-tag {
      padding: 3px 8px;
      border-radius: 20px;
      font-size: 14px;
      font-weight: 500;
      display: flex;
      align-items: center;
      transition: all 0.3s ease;
    }

    .tech-tag:hover {
      transform: translateY(-2px);
      box-shadow: 0 5px 10px rgba(0, 0, 0, 0.05);
    }

    .connection-line {
      position: relative;
      height: 20px;
      display: flex;
      justify-content: center;
      align-items: center;
      opacity: 0;
      transition: opacity 0.5s ease;
      z-index: 0;
    }

    .connection-line.active {
      opacity: 1;
    }

    .arrow-svg {
      width: 40px;
      height: 20px;
      fill: none;
      stroke: #3b82f6;
      stroke-width: 3;
      stroke-linecap: round;
      stroke-linejoin: round;
      filter: drop-shadow(0 2px 4px rgba(59, 130, 246, 0.3));
    }

    .arrow-path {
      stroke-dasharray: 100;
      stroke-dashoffset: 100;
      transition: stroke-dashoffset 1.5s ease;
    }

    .connection-line.active .arrow-path {
      stroke-dashoffset: 0;
    }

    .pulse-circle {
      position: absolute;
      width: 12px;
      height: 12px;
      border-radius: 50%;
      background: rgba(59, 130, 246, 0.2);
      top: 50%;
      transform: translateY(-50%);
      animation: pulse 2s infinite;
    }

    @keyframes pulse {
      0% {
        transform: translateY(-50%) scale(0.8);
        opacity: 0;
      }
      50% {
        transform: translateY(-50%) scale(1.2);
        opacity: 1;
      }
      100% {
        transform: translateY(-50%) scale(0.8);
        opacity: 0;
      }
    }

    .data-particle {
      position: absolute;
      width: 4px;
      height: 4px;
      border-radius: 50%;
      background: #3b82f6;
      top: 4px;
      left: 50%;
      transform: translateX(-50%);
      opacity: 0;
    }

    .connection-line.active .data-particle {
      animation: moveParticle 2.5s infinite;
    }

    @keyframes moveParticle {
      0% {
        top: 4px;
        opacity: 1;
      }
      90% {
        opacity: 1;
      }
      100% {
        top: 16px;
        opacity: 0;
      }
    }

    .layer-1 .layer-icon {
      background: linear-gradient(135deg, #3b82f6, #2563eb);
    }
    .layer-2 .layer-icon {
      background: linear-gradient(135deg, #f97316, #ea580c);
    }
    .layer-3 .layer-icon {
      background: linear-gradient(135deg, #3b82f6, #2563eb);
    }
    .layer-4 .layer-icon {
      background: linear-gradient(135deg, #f97316, #ea580c);
    }

    .layer-1 .tech-tag {
      background: rgba(59, 130, 246, 0.1);
      color: #2563eb;
      border: 1px solid rgba(59, 130, 246, 0.2);
    }
    .layer-2 .tech-tag {
      background: rgba(249, 115, 22, 0.1);
      color: #ea580c;
      border: 1px solid rgba(249, 115, 22, 0.2);
    }
    .layer-3 .tech-tag {
      background: rgba(59, 130, 246, 0.1);
      color: #2563eb;
      border: 1px solid rgba(59, 130, 246, 0.2);
    }
    .layer-4 .tech-tag {
      background: rgba(249, 115, 22, 0.1);
      color: #ea580c;
      border: 1px solid rgba(249, 115, 22, 0.2);
    }

    .layer-number {
      position: absolute;
      left: -10px;
      top: 50%;
      transform: translateY(-50%);
      width: 20px;
      height: 20px;
      background: linear-gradient(135deg, #3b82f6, #2563eb);
      border-radius: 50%;
      display: flex;
      justify-content: center;
      align-items: center;
      font-weight: 600;
      font-size: 10px;
      color: white;
      box-shadow: 0 0 15px rgba(59, 130, 246, 0.3);
    }

    .layer-2 .layer-number,
    .layer-4 .layer-number {
      background: linear-gradient(135deg, #f97316, #ea580c);
      box-shadow: 0 0 15px rgba(249, 115, 22, 0.3);
    }

    .next-button {
      position: absolute;
      bottom: 20px;
      right: 20px;
      width: 45px;
      height: 45px;
      background: linear-gradient(135deg, #3b82f6, #2563eb);
      border-radius: 50%;
      display: flex;
      justify-content: center;
      align-items: center;
      cursor: pointer;
      box-shadow: 0 5px 20px rgba(37, 99, 235, 0.4);
      transition: all 0.3s ease;
      z-index: 100;
      border: 2px solid rgba(255, 255, 255, 0.3);
    }

    .next-button:hover {
      transform: scale(1.1) rotate(5deg);
      box-shadow: 0 8px 25px rgba(37, 99, 235, 0.5);
    }

    .next-button svg {
      width: 20px;
      height: 20px;
      transition: transform 0.3s ease;
    }

    .next-button:hover svg {
      transform: translateX(3px);
    }

    .layer-badge {
      position: absolute;
      top: -8px;
      right: -8px;
      background: linear-gradient(135deg, #3b82f6, #2563eb);
      color: white;
      border-radius: 20px;
      padding: 3px 8px;
      font-size: 10px;
      font-weight: 600;
      box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
      opacity: 0;
      transform: translateY(-10px);
      transition: all 0.5s ease;
      transition-delay: 0.3s;
    }

    .layer-2 .layer-badge,
    .layer-4 .layer-badge {
      background: linear-gradient(135deg, #f97316, #ea580c);
    }

    .stack-layer.active .layer-badge {
      opacity: 1;
      transform: translateY(0);
    }

    /* Hexagon pattern for icons */
    .hexagon {
      position: absolute;
      width: 46px;
      height: 46px;
      top: -3px;
      left: -3px;
      z-index: -1;
      opacity: 0.4;
      transform: scale(0.9);
      transition: all 0.3s ease;
    }

    .stack-layer:hover .hexagon {
      transform: scale(1.1);
      opacity: 0.6;
    }

    /* Fix for Reveal.js */
    .reveal .ai-stack-slide h2 {
      color: #2563eb !important; /* Changed from transparent to visible color */
      font-family: "Inter", sans-serif;
      text-transform: none;
      text-shadow: none;
      margin-bottom: 25px;
      font-size: 24px;
      letter-spacing: -0.5px;
      visibility: visible !important;
      opacity: 1 !important;
    }

    /* Added a special style for the heading to make it stand out */
    .stack-heading {
      border-radius: 8px;
      background: rgba(37, 99, 235, 0.05);
      box-shadow: 0 4px 15px rgba(37, 99, 235, 0.1);
    }

    @media (max-width: 768px) {
      .ai-stack-container {
        padding: 10px 5px;
      }

      .ai-stack-slide h2 {
        font-size: 20px;
        margin-bottom: 25px;
      }

      .stack-layer {
        padding: 10px;
      }

      .layer-icon-wrapper {
        flex: 0 0 35px;
        height: 35px;
        margin-right: 12px;
      }

      .layer-icon {
        width: 35px;
        height: 35px;
        font-size: 18px;
      }

      .layer-icon svg {
        width: 20px;
        height: 20px;
      }

      .layer-title {
        font-size: 18px !important;
      }

      .layer-details {
        font-size: 16px;
        line-height: 1.3;
      }

      .tech-tag {
        font-size: 14px;
        padding: 2px 6px;
      }

      .next-button {
        width: 40px;
        height: 40px;
        bottom: 15px;
        right: 15px;
      }

      .hexagon {
        width: 41px;
        height: 41px;
      }
    }
  </style>
  <header class="slide-header" data-id="header">
    <h1 class="zoom-in" data-auto-animate data-auto-animate-duration="1.5" visiblity="visible">
      The Agentic AI Stack
    </h1>
    <img
      src="./images/Logo.png"
      alt="Company Logo"
      class="company-logo"
      data-auto-animate
      data-auto-animate-duration="1"
    />
  </header>

  <div class="ai-stack-container">
    <!-- Changed the heading to use a wrapper div for better visibility -->
    <div class="stack-heading">
      <h2>Built on a Modern, Open AI Stack</h2>
    </div>

    <div class="ai-stack">
      <!-- Layer 1: Foundation Models -->
      <div class="stack-layer layer-1 fragment" data-fragment-index="1">
        <div class="layer-number">1</div>
        <div class="layer-icon-wrapper">
          <!-- Hexagon SVG pattern -->
          <svg
            class="hexagon"
            viewBox="0 0 100 100"
            xmlns="http://www.w3.org/2000/svg"
          >
            <polygon
              points="50 0, 93.3 25, 93.3 75, 50 100, 6.7 75, 6.7 25"
              fill="#3b82f6"
              stroke="#2563eb"
              stroke-width="2"
            />
          </svg>
          <div class="layer-icon">
            <!-- Brain SVG icon -->
            <svg
              xmlns="http://www.w3.org/2000/svg"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="1.5"
              stroke-linecap="round"
              stroke-linejoin="round"
            >
              <path
                d="M9.5 2A2.5 2.5 0 0 1 12 4.5v15a2.5 2.5 0 0 1-4.96.44 2.5 2.5 0 0 1-2.96-3.08 3 3 0 0 1-.34-5.58 2.5 2.5 0 0 1 1.32-4.24 2.5 2.5 0 0 1 1.98-3A2.5 2.5 0 0 1 9.5 2Z"
              />
              <path
                d="M14.5 2A2.5 2.5 0 0 0 12 4.5v15a2.5 2.5 0 0 0 4.96.44 2.5 2.5 0 0 0 2.96-3.08 3 3 0 0 0 .34-5.58 2.5 2.5 0 0 0-1.32-4.24 2.5 2.5 0 0 0-1.98-3A2.5 2.5 0 0 0 14.5 2Z"
              />
            </svg>
          </div>
        </div>
        <div class="layer-content">
          <div class="layer-title">Foundation Models</div>
          <div class="layer-details">
            Advanced neural networks that form the cognitive core of the AI
            stack.
          </div>
          <div class="tech-tags">
            <span class="tech-tag">Gemini</span>
            <span class="tech-tag">GPT-4o</span>
            <span class="tech-tag">Claude</span>
            <span class="tech-tag">Mistral</span>
          </div>
        </div>
        <div class="layer-badge">Core Intelligence</div>
      </div>

      <!-- Connection with SVG arrow -->
      <div class="connection-line fragment" data-fragment-index="1">
        <svg
          class="arrow-svg"
          viewBox="0 0 40 20"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path class="arrow-path" d="M20 2 L20 18 M12 12 L20 18 L28 12" />
        </svg>
        <div class="pulse-circle"></div>
        <div class="data-particle"></div>
        <div class="data-particle" style="animation-delay: 0.8s"></div>
      </div>

      <!-- Layer 2: Agent Frameworks -->
      <div class="stack-layer layer-2 fragment" data-fragment-index="2">
        <div class="layer-number">2</div>
        <div class="layer-icon-wrapper">
          <!-- Hexagon SVG pattern -->
          <svg
            class="hexagon"
            viewBox="0 0 100 100"
            xmlns="http://www.w3.org/2000/svg"
          >
            <polygon
              points="50 0, 93.3 25, 93.3 75, 50 100, 6.7 75, 6.7 25"
              fill="#f97316"
              stroke="#ea580c"
              stroke-width="2"
            />
          </svg>
          <div class="layer-icon">
            <!-- Network/Web SVG icon -->
            <svg
              xmlns="http://www.w3.org/2000/svg"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="1.5"
              stroke-linecap="round"
              stroke-linejoin="round"
            >
              <circle cx="12" cy="12" r="3" />
              <path d="M3 7V5a2 2 0 0 1 2-2h2" />
              <path d="M17 3h2a2 2 0 0 1 2 2v2" />
              <path d="M21 17v2a2 2 0 0 1-2 2h-2" />
              <path d="M7 21H5a2 2 0 0 1-2-2v-2" />
              <path d="M8 7v.01" />
              <path d="M16 7v.01" />
              <path d="M8 16v.01" />
              <path d="M16 16v.01" />
              <path d="M12 8v.01" />
              <path d="M12 16v.01" />
              <path d="M9 12h.01" />
              <path d="M15 12h.01" />
            </svg>
          </div>
        </div>
        <div class="layer-content">
          <div class="layer-title">Agent Frameworks</div>
          <div class="layer-details">
            Orchestration systems that enable reasoning, planning, and agent
            collaboration.
          </div>
          <div class="tech-tags">
            <span class="tech-tag">Crew AI</span>
            <span class="tech-tag">LangChain</span>
            <span class="tech-tag">AutoGen</span>
          </div>
        </div>
        <div class="layer-badge">Orchestration</div>
      </div>

      <!-- Connection with SVG arrow -->
      <div class="connection-line fragment" data-fragment-index="2">
        <svg
          class="arrow-svg"
          viewBox="0 0 40 20"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            class="arrow-path"
            d="M20 2 L20 18 M12 12 L20 18 L28 12"
            stroke="#f97316"
          />
        </svg>
        <div
          class="pulse-circle"
          style="background: rgba(249, 115, 22, 0.2)"
        ></div>
        <div class="data-particle" style="background: #f97316"></div>
        <div
          class="data-particle"
          style="background: #f97316; animation-delay: 0.8s"
        ></div>
      </div>

      <!-- Layer 3: Grounding -->
      <div class="stack-layer layer-3 fragment" data-fragment-index="3">
        <div class="layer-number">3</div>
        <div class="layer-icon-wrapper">
          <!-- Hexagon SVG pattern -->
          <svg
            class="hexagon"
            viewBox="0 0 100 100"
            xmlns="http://www.w3.org/2000/svg"
          >
            <polygon
              points="50 0, 93.3 25, 93.3 75, 50 100, 6.7 75, 6.7 25"
              fill="#3b82f6"
              stroke="#2563eb"
              stroke-width="2"
            />
          </svg>
          <div class="layer-icon">
            <!-- Search/Magnifying Glass SVG icon -->
            <svg
              xmlns="http://www.w3.org/2000/svg"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="1.5"
              stroke-linecap="round"
              stroke-linejoin="round"
            >
              <circle cx="11" cy="11" r="8" />
              <path d="m21 21-4.3-4.3" />
              <path d="M11 8v6" />
              <path d="M8 11h6" />
            </svg>
          </div>
        </div>
        <div class="layer-content">
          <div class="layer-title">Grounding</div>
          <div class="layer-details">
            Knowledge retrieval systems that connect AI models to accurate
            information sources.
          </div>
          <div class="tech-tags">
            <span class="tech-tag">RAG Pipelines</span>
            <span class="tech-tag">Pinecone</span>
            <span class="tech-tag">FAISS</span>
          </div>
        </div>
        <div class="layer-badge">Knowledge Base</div>
      </div>

      <!-- Connection with SVG arrow -->
      <div class="connection-line fragment" data-fragment-index="3">
        <svg
          class="arrow-svg"
          viewBox="0 0 40 20"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path class="arrow-path" d="M20 2 L20 18 M12 12 L20 18 L28 12" />
        </svg>
        <div class="pulse-circle"></div>
        <div class="data-particle"></div>
        <div class="data-particle" style="animation-delay: 0.8s"></div>
      </div>

      <!-- Layer 4: Infrastructure -->
      <div class="stack-layer layer-4 fragment" data-fragment-index="4">
        <div class="layer-number">4</div>
        <div class="layer-icon-wrapper">
          <!-- Hexagon SVG pattern -->
          <svg
            class="hexagon"
            viewBox="0 0 100 100"
            xmlns="http://www.w3.org/2000/svg"
          >
            <polygon
              points="50 0, 93.3 25, 93.3 75, 50 100, 6.7 75, 6.7 25"
              fill="#f97316"
              stroke="#ea580c"
              stroke-width="2"
            />
          </svg>
          <div class="layer-icon">
            <!-- Cloud/Server SVG icon -->
            <svg
              xmlns="http://www.w3.org/2000/svg"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="1.5"
              stroke-linecap="round"
              stroke-linejoin="round"
            >
              <path d="M17.5 19H9a7 7 0 1 1 6.71-9h2.79a4.5 4.5 0 1 1 0 9Z" />
              <path d="M17 14h.01" />
              <path d="M13 14h.01" />
            </svg>
          </div>
        </div>
        <div class="layer-content">
          <div class="layer-title">Infrastructure</div>
          <div class="layer-details">
            Enterprise-grade cloud foundation with high-performance computing
            resources.
          </div>
          <div class="tech-tags">
            <span class="tech-tag">AWS</span>
            <span class="tech-tag">Azure</span>
            <span class="tech-tag">GCP</span>
          </div>
        </div>
        <div class="layer-badge">Foundation</div>
      </div>
    </div>
  </div>

  <script>
    document.addEventListener("DOMContentLoaded", () => {
      // For Reveal.js integration
      const initStackAnimation = (event) => {
        if (event && !event.currentSlide.classList.contains("ai-stack-slide")) {
          return;
        }

        const layers = document.querySelectorAll(
          ".ai-stack-slide .stack-layer"
        );
        const connections = document.querySelectorAll(
          ".ai-stack-slide .connection-line"
        );

        // Add active class to each layer when its fragment becomes visible
        if (typeof Reveal !== "undefined") {
          Reveal.addEventListener("fragmentshown", function (event) {
            const fragmentIndex = event.fragment.getAttribute(
              "data-fragment-index"
            );

            if (event.fragment.classList.contains("stack-layer")) {
              event.fragment.classList.add("active");
            }

            if (event.fragment.classList.contains("connection-line")) {
              event.fragment.classList.add("active");
            }
          });

          Reveal.addEventListener("fragmenthidden", function (event) {
            const fragmentIndex = event.fragment.getAttribute(
              "data-fragment-index"
            );

            if (event.fragment.classList.contains("stack-layer")) {
              event.fragment.classList.remove("active");
            }

            if (event.fragment.classList.contains("connection-line")) {
              event.fragment.classList.remove("active");
            }
          });
        }

        // Add interactive hover effects
        layers.forEach((layer) => {
          layer.addEventListener("mouseenter", () => {
            if (
              layer.classList.contains("active") ||
              layer.classList.contains("visible")
            ) {
              layer.style.transform = "translateY(-5px) scale(1.02)";
            }
          });

          layer.addEventListener("mouseleave", () => {
            if (
              layer.classList.contains("active") ||
              layer.classList.contains("visible")
            ) {
              layer.style.transform = "translateY(0) scale(1)";
            }
          });
        });
      };

      // Initialize for non-Reveal.js environments
      initStackAnimation();

      // For Reveal.js
      if (typeof Reveal !== "undefined") {
        Reveal.addEventListener("slidechanged", initStackAnimation);

        // Run once on load to initialize current slide if it's this one
        initStackAnimation({
          currentSlide: document.querySelector(".present"),
        });
      }
    });
  </script>
</section>
